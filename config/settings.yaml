# ============================================================================
# ALPHATRADE CONFIGURATION
# JPMorgan-Style Enterprise Trading System
# ============================================================================
# 
# Environment Overrides:
#   - Create settings.{environment}.yaml for environment-specific settings
#   - Use environment variables: ALPHATRADE_SECTION_KEY=value
#
# Example:
#   ALPHATRADE_TRADING_INITIAL_CAPITAL=50000
#   ALPHATRADE_RISK_MAX_DAILY_LOSS_PCT=3.0
#
# ============================================================================

app_name: AlphaTrade
version: 2.0.0
environment: development

# ============================================================================
# DATABASE
# ============================================================================
database:
  url: sqlite:///./trade_system.db
  echo: false
  pool_size: 5
  max_overflow: 10

# ============================================================================
# TRADING PARAMETERS
# ============================================================================
trading:
  initial_capital: 100000
  commission_pct: 0.001      # %0.1
  slippage_pct: 0.0005       # %0.05
  max_position_size: 50000
  default_quantity: 10

# ============================================================================
# RISK MANAGEMENT
# ============================================================================
risk:
  max_position_size_pct: 10.0     # Single position max %10 of portfolio
  max_daily_loss_pct: 2.0         # Daily max %2 loss
  max_total_drawdown_pct: 10.0    # Total max %10 drawdown
  max_daily_trades: 50
  max_open_positions: 10
  max_var_1d: 5000                # $5000 daily VaR limit
  min_cash_reserve_pct: 20.0      # Keep %20 cash
  
  # Circuit Breaker
  circuit_breaker_enabled: true
  circuit_breaker_threshold: 3.0   # %3 intraday loss triggers
  circuit_breaker_cooldown_minutes: 30

# ============================================================================
# STRATEGY
# ============================================================================
strategy:
  name: AdvancedMomentum
  fast_period: 10
  slow_period: 30
  rsi_period: 14
  rsi_overbought: 70.0
  rsi_oversold: 30.0
  min_confidence: 0.6
  atr_multiplier: 2.0

# ============================================================================
# MACHINE LEARNING
# ============================================================================
ml:
  enabled: false
  model_type: xgboost              # xgboost, lstm, transformer
  lookback_period: 60              # Bars to look back
  prediction_horizon: 5            # Bars ahead to predict
  retrain_frequency: weekly        # daily, weekly, monthly
  min_training_samples: 1000
  
  # Feature Engineering
  use_technical_features: true
  use_volume_features: true
  use_time_features: true
  
  # XGBoost Parameters
  xgboost_params:
    n_estimators: 100
    max_depth: 6
    learning_rate: 0.1

# ============================================================================
# DATA FEED
# ============================================================================
data_feed:
  source: csv                      # csv, binance, alpaca, yahoo
  storage_path: data/storage
  symbols:
    - AAPL
    - MSFT
    - GOOGL
    - AMZN
    - META
    - NVDA
    - TSLA
  timeframe: 15min
  
  # Real-time (WebSocket)
  websocket_enabled: false
  websocket_url: null
  reconnect_attempts: 5
  reconnect_delay_seconds: 5

# ============================================================================
# BACKTEST
# ============================================================================
backtest:
  start_date: null                 # null = use all data
  end_date: null
  use_risk_management: true
  export_trades: true
  export_path: data/backtest_results
  
  # Optimization
  parallel_backtests: 4
  optimize_parameters: false

# ============================================================================
# API / DASHBOARD
# ============================================================================
api:
  enabled: false
  host: 0.0.0.0
  port: 8000
  cors_origins:
    - "*"
  api_key: null                    # Set via env: ALPHATRADE_API_API_KEY

# ============================================================================
# LOGGING
# ============================================================================
logging:
  level: INFO                      # DEBUG, INFO, WARNING, ERROR
  file_enabled: true
  file_path: logs
  max_file_size_mb: 500
  retention_days: 10
  json_format: false

# ============================================================================
# MONITORING
# ============================================================================
monitoring:
  prometheus_enabled: false
  prometheus_port: 9090
  heartbeat_interval_seconds: 30
  metrics_export_interval_seconds: 60